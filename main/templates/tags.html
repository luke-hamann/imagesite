{% extends '_base.html' %}

{% block title %}Tags{% endblock %}

{% block content %}

<h1 class="h1">Tags</h1>

<p class="pagination-controls">
    {% if page.has_previous %}
        <a href="?p=1" class="pagination-button">
            &lt;&lt;
        </a>
        <a href="?p={{ page.previous_page_number }}" class="pagination-button">
            &lt;
        </a>
    {% else %}
        <span class="pagination-button">
            &lt;&lt;
        </span>
        <span class="pagination-button">
            &lt;
        </span>
    {% endif %}
    <span>Page</span>
    <form method="get">
        <input type="number" name="p" placeholder="{{ page.number }}"
            class="pagination-input" />
    </form>
    <span>of</span>
    {% if page.has_next %}
        <a href="?p={{ page.next_page_number }}" class="pagination-button">
            &gt;
        </a>
        <a href="?p={{ page.num_pages }}" class="pagination-button">
            &gt;&gt;
        </a>
    {% else %}
        <span class="pagination-button">
            &gt;
        </span>
        <span class="pagination-button">
            &gt;&gt;
        </span>
    {% endif %}
</p>

{% for tag in tags %}
    <h2 class="h2">
        <a href="{% url 'search' %}?q=%23{{ tag.name }}">
            {{ tag.name }}
        </a>
    </h2>
    <ul class="list-unstyled image-list">
        {% for image in tag.image_set.all %}
            <li class="image-list-item">
                <a href="{% url 'detail' image.id %}">
                    <img src="{% url 'image' image.id %}?format=thumbnail" />
                </a>
            </li>
        {% endfor %}
    </ul>
{% endfor %}

{% endblock %}
